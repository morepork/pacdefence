% I permit others to modify and redistribute this manual, as long as they keep
% this notice attached, and make the LaTeX file available.
%
% (C) Liam Byrne 2009

\documentclass[a4paper,11pt]{article}
\usepackage{fullpage, graphicx, amsmath, wrapfig, color, hyperref}
\setlength{\parindent}{0mm}

% This is for when I draw the boxes around the buttons later
\setlength{\unitlength}{1mm}

% This is the same as the background colour of the website as defined in the css file
\definecolor{murkyblue}{rgb}{0.06, 0.37, 0.58}
\pagecolor{murkyblue}

\definecolor{yellow}{rgb}{1, 1, 0}
\color{yellow}

% This is the same as baseColour in OverlayButton
\definecolor{darkblue}{rgb}{0.05, 0, 0.63}

% Title Page
\title{Pac Defence Manual}

% Draws the image of a tower, include a fourth parameter if you don't want an overlay
\newcommand{\tower}[4]{
\vbox{
\subsection{#1}
\vspace{-5mm}
% Setting this to 0 makes it uses as much space as needed
% [x] specifies how many lines on the right the wrapfig displaces, after this text starts using the entire page again. I never really want this to happen so set it high
\begin{wrapfigure}[10]{l}{0pt}
% The tower's image with its overlay drawn over it
\includegraphics[width=\towersize, height=\towersize]{./images/towers/#2}\if #4\empty \hspace{-\towersize}\includegraphics[width=\towersize, height=\towersize]{./images/towers/overlays/#2Overlay}\fi
\hspace{3mm}
% The button image
\includegraphics[width=\towerbuttonsize mm, height=\towerbuttonsize mm]{./images/buttons/towers/#2Button}\hspace{-\towerbuttonsize mm}\color{darkblue}\begin{picture}(\towerbuttonsize, \towerbuttonsize)
 % Draws a box around the button picture as they are seen in game
 \linethickness{0.4mm}
 \put(0,0){\line(1,0){\towerbuttonsize}}
 \put(0,0){\line(0,1){\towerbuttonsize}}
 \put(7,7){\line(-1,0){\towerbuttonsize}}
 \put(7,7){\line(0,-1){\towerbuttonsize}}
\end{picture}\color{yellow}
\vspace{10cm}
\end{wrapfigure}
\quad \\[1mm]
#3
}
}


% The width of the tower pictures
\newcommand{\towersize}{12mm}

% The width of the tower button pictures, should be ~3/5 \towersize
\newcommand{\towerbuttonsize}{7.2}


\begin{document}

\maketitle
\pagebreak

\tableofcontents
\pagebreak


%\section*{Basic Game Play}

\section{Towers}

\vspace{3mm}
% TODO perhaps reorder these to fit with their order on the GUI
\tower{Aid Tower}{aid}{
Aids other towers whose centres are within its range, initially giving a 5\% bonus. Each of its main stats are the amount it increases neighbouring towers by, and its special stat is the range to which its bonus applies. As it gains no experience directly, 10\% of the damage and kills inflicted by the towers it aids are added to it. Note, that in order to aid a tower, the centre of the tower must be within the range of the aid tower.}{x}

\tower{Beam Tower}{beam}{
Fires a straight beam from the centre of the tower to the centre of the sprite it is targetting and then travels in a circle in the opposite direction to the motion of the targetted sprite. Each sprite is hit a maximum of one time by the beam. The speed stat of this tower is the speed the beam rotates and the special stat is how long the beam lasts for.}{x}

\tower{Bomber Tower}{bomber}{
Fires an bullet that does full damage to the sprite it hits, then explodes and deals half damage to each sprite caught in the blast. The explosion is circular and always lasts for the same time. The special stat of this tower is the radius of the blast}

\tower{Charge Tower}{charge}{
The damage of this tower will charge up when it is able to shoot, but has no target. This increases the damage on the next bullet it will fire. The special stat of this tower is the amount the damage can charge up to, which is a constant factor multiplied by the tower's base damage. It takes two seconds to fully charge.}

\tower{Circle Tower}{circle}{
The circle tower's bullets follow a circular trajectory and can pass through multiple sprites doing full damage to each sprite the bullet hits. The tower's special stat is the number of sprites the bullet can damage before vanishing, but each sprite will take damage no more than once.}

\tower{Freeze Tower}{freeze}{
This tower does very little damage, however when a sprite is hit by this tower it will freeze for a short amount of time. The special stat of this tower is the length of time it will stay frozen for. If an already frozen sprite is frozen it will stay frozen for the longer of the time it is currently frozen for, or the time the new hit would freeze it for.}

\tower{Homing Tower}{homing}{
This towers bullets will home in on their targets. If the target dies before the bullet hits it, the bullet will continue travelling in a straight line. The tower's special stat is the maximum rate that the angle of the bullet can change as it tracks a sprite.}

\tower{Jumper Tower}{jumper}{
When each bullet hits, it can jump to retarget on another sprite. There must be another sprite withing half the range of the tower for this to happen. The special stat of this tower is the maximum number of times the bullet can `jump' but a sprite can be the target of a jump no more than once.}

\tower{Laser Tower}{laser}{
Fires a laser instead of a bullet, doing damage based on the amount of time the beam is over a sprite. The laser will also travel through sprites, and will damage all the sprites that the beam touches. The special stat of this tower is the length of its laser beam.}

\tower{Multi Shot Tower}{multiShot}{
Fires multiple bullets at once. The first bullet will go at the shown bullet speed, the second will travel 10\% faster than that, the third 10\% faster than the second and so on. The special stat of the tower is how many bullets it will shoot at a time.}

\tower{Omnidirectional Tower}{omnidirectional}{
Fires bullets in multiple directions at once. One bullet will target a sprite, and the remainder will be shot at regular angles from this. So if it shoots 4 bullets, the latter 3 will launch at angles of \(\frac{\pi}{2}\), \(\pi\), and \(\frac{2\pi}{2}\) from the first. The tower's special stat is how many bullets it will launch.}

\tower{Poison Tower}{poison}{
Poisons the sprites it hits, meaning they take poison damage for a short while after they are hit. Each poison hit is separate, so a sprite can be simultaneously poisoned by multiple hits from one tower, or a number of poison towers. The bullet does the shown damage when it hits, and the poison damage is additional to this. The poison damage will always be the same as the base damage of the tower, and its special stat is the length of time the poison lasts for.}

\tower{Scatter Tower}{scatter}{
Scatters bullets at multiple sprites at once. Each bullet targets an individual sprite, but only one bullet will be shot at any one sprite, so if the tower can shoot more bullets than it has targets, some shots are wasted. The tower's special stat is how many bullets it can fire.}

\tower{Slow Tower}{slowLength}{
Similar to the freeze tower, except instead of freezing the sprite it will reduce its speed by half. This effect is not cumulative, in that a sprite hit twice will go down to one quarter speed, but will remain at half. A slow bullet hitting a frozen sprite will have no effect, and a freeze bullet will remove any slow effect it may have. This tower's special stat is how long the slow effect lasts.}

\tower{Wave Tower}{wave}{
Fires a wave or arc that hits multiple targets and passes through them. The wave will damage as all the sprites it passes through, but each sprite will be only be damaged by any particular wave once. The tower's special stat is the angle between each end of the arc.}

\tower{Weaken Tower}{weaken}{
Does little damage, but after it is hit by this tower a sprite will take double damage for a short period of time. Like the freeze and slow towers, if an already weakened sprite is hit it will be weakened for whichever is longer, the old hit or the new.}

\tower{Zapper Tower}{zapper}{
Fires a main bullet that inflicts no damage on its own, but will zap sprites within range. The range of the zaps is one quarter the range of the tower itself.}

\tower{Ghost}{ghost}{
Not really a tower as such, but a ghost is placed on the path and will kill 5 sprites before vanishing. Ghosts also vanish at the end of a level.}{x}

\section{Specials}

\subsection{Different Tower Type Hit Bonus}
If the last bullet that hit a sprite was from a tower of a different type, it will receive a 10\% damage bonus for every hit that the sprite has received since it was last hit by a bullet from a tower of this type. Say a sprite is struck by bullets in the following order:

\begin{enumerate}
 \item Bomber tower bullet\\
 This will receive no damage bonus, as the sprite had not been hit before.
 \item Homing tower bullet\\
 This will receive a 10\% damage bonus.
 \item Wave tower bullet (wave)\\
 This will receive two 10\% bonuses, for a total of a 21\% (\(1.1 \times 1.1\)) damage bonus.
 \item Bomber tower bullet (from a different tower to the first)\\
 This will also receive two 10\% bonuses as there are two hits since the last bomber tower hit.
 \item Bomber tower bullet\\
 This will receive no damage bonus.
\end{enumerate}

Notice that these bonuses are cumulative, and very large bonuses can be gained by having long sequences, for example, a sequence of 9 gives a bonus of approximately 95\% (\(1.1^{9} = 1.95\)).




\end{document}          
